{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport * as React from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport useAnimatedValue from \"./useAnimatedValue\";\nvar getTranslateX = function getTranslateX(position, routes, getTabWidth, gap) {\n  var inputRange = routes.map(function (_, i) {\n    return i;\n  });\n  var outputRange = routes.reduce(function (acc, _, i) {\n    if (i === 0) return [0];\n    return [].concat(_toConsumableArray(acc), [acc[i - 1] + getTabWidth(i - 1) + (gap != null ? gap : 0)]);\n  }, []);\n  var translateX = position.interpolate({\n    inputRange: inputRange,\n    outputRange: outputRange,\n    extrapolate: 'clamp'\n  });\n  return Animated.multiply(translateX, I18nManager.isRTL ? -1 : 1);\n};\nexport default function TabBarIndicator(_ref) {\n  var getTabWidth = _ref.getTabWidth,\n    layout = _ref.layout,\n    navigationState = _ref.navigationState,\n    position = _ref.position,\n    width = _ref.width,\n    gap = _ref.gap,\n    style = _ref.style;\n  var isIndicatorShown = React.useRef(false);\n  var isWidthDynamic = width === 'auto';\n  var opacity = useAnimatedValue(isWidthDynamic ? 0 : 1);\n  var indicatorVisible = isWidthDynamic ? layout.width && navigationState.routes.slice(0, navigationState.index).every(function (_, r) {\n    return getTabWidth(r);\n  }) : true;\n  React.useEffect(function () {\n    var fadeInIndicator = function fadeInIndicator() {\n      if (!isIndicatorShown.current && isWidthDynamic && indicatorVisible) {\n        isIndicatorShown.current = true;\n        Animated.timing(opacity, {\n          toValue: 1,\n          duration: 150,\n          easing: Easing.in(Easing.linear),\n          useNativeDriver: true\n        }).start();\n      }\n    };\n    fadeInIndicator();\n    return function () {\n      return opacity.stopAnimation();\n    };\n  }, [indicatorVisible, isWidthDynamic, opacity]);\n  var routes = navigationState.routes;\n  var transform = [];\n  if (layout.width) {\n    var translateX = routes.length > 1 ? getTranslateX(position, routes, getTabWidth, gap) : 0;\n    transform.push({\n      translateX: translateX\n    });\n  }\n  if (width === 'auto') {\n    var inputRange = routes.map(function (_, i) {\n      return i;\n    });\n    var outputRange = inputRange.map(getTabWidth);\n    transform.push({\n      scaleX: routes.length > 1 ? position.interpolate({\n        inputRange: inputRange,\n        outputRange: outputRange,\n        extrapolate: 'clamp'\n      }) : outputRange[0]\n    }, {\n      translateX: 0.5\n    });\n  }\n  return React.createElement(Animated.View, {\n    style: [styles.indicator, {\n      width: width === 'auto' ? 1 : width\n    }, layout.width && Platform.OS !== 'macos' ? {\n      left: 0\n    } : {\n      left: 100 / routes.length * navigationState.index + \"%\"\n    }, {\n      transform: transform\n    }, width === 'auto' ? {\n      opacity: opacity\n    } : null, style]\n  });\n}\nvar styles = StyleSheet.create({\n  indicator: {\n    backgroundColor: '#ffeb3b',\n    position: 'absolute',\n    left: 0,\n    bottom: 0,\n    right: 0,\n    height: 2\n  }\n});","map":{"version":3,"mappings":"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","names":["React","useAnimatedValue","getTranslateX","position","routes","getTabWidth","gap","inputRange","map","_","i","outputRange","reduce","acc","translateX","interpolate","extrapolate","Animated","multiply","I18nManager","isRTL","TabBarIndicator","_ref","layout","navigationState","width","style","isIndicatorShown","useRef","isWidthDynamic","opacity","indicatorVisible","slice","index","every","r","useEffect","fadeInIndicator","current","timing","toValue","duration","easing","Easing","in","linear","useNativeDriver","start","stopAnimation","transform","length","push","scaleX","View","styles","indicator","Platform","OS","left","StyleSheet","create","backgroundColor","bottom","right","height"],"sourceRoot":"../../src","sources":["TabBarIndicator.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}